<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Vehicle Lister</title>
  <link rel="stylesheet" href="popup.css">
</head>
<body>
  <div class="popup-container">
    <header class="header">
      <div class="logo">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2"></path>
          <circle cx="7" cy="17" r="2"></circle>
          <path d="M9 17h6"></path>
          <circle cx="17" cy="17" r="2"></circle>
        </svg>
        <h1>Vehicle Lister</h1>
      </div>
      <div class="tab-selector">
        <button id="tab-inventory" class="tab-button active">Inventory</button>
        <button id="tab-detect" class="tab-button">Extract</button>
      </div>
    </header>

    <main class="main-content">
      <!-- Extract Vehicle Tab -->
      <section id="detect-vehicle-tab" class="tab-content" style="display: none;">
        <div class="detect-container">
          <div class="detect-placeholder">
            <svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
              <circle cx="8.5" cy="8.5" r="1.5"></circle>
              <polyline points="21 15 16 10 5 21"></polyline>
            </svg>
            <p>Navigate to a vehicle listing on AutoTrader.ca, then click the button below to extract it.</p>
            <p class="hint">Hint: You can also click "Extract Vehicle" buttons directly on AutoTrader search results!</p>
          </div>
          <button id="detect-vehicle-button" class="primary-button">
            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M12 2L2 7l10 5 10-5-10-5z"></path>
              <path d="M2 17l10 5 10-5"></path>
              <path d="M2 12l10 5 10-5"></path>
            </svg>
            Extract Vehicle Data
          </button>
        </div>

        <div class="detection-result" id="detection-result" style="display: none;">
          <div class="result-header">
            <h2>Vehicle Detected</h2>
            <span class="result-close" id="result-close">&times;</span>
          </div>
          <div class="vehicle-preview" id="vehicle-preview">
            <!-- Will be populated dynamically -->
          </div>
          <div class="preview-actions">
            <button id="save-vehicle" class="primary-button">Save to Inventory</button>
            <button id="cancel-detect" class="secondary-button">Cancel</button>
          </div>
        </div>
      </section>

      <!-- Inventory Tab -->
      <section id="inventory-tab" class="tab-content">
        <div id="empty-inventory" class="empty-inventory">
          <svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <circle cx="12" cy="12" r="9"></circle>
            <path d="M9 10h.01"></path>
            <path d="M15 10h.01"></path>
            <path d="M9.5 15a3.5 3.5 0 0 0 5 0"></path>
          </svg>
          <p>Your inventory is empty. Go to the Extract tab to add vehicles.</p>
        </div>

        <div id="inventory-list" class="inventory-list">
          <!-- Will be populated dynamically -->
        </div>
      </section>
    </main>

    <footer class="footer">
      <div class="status-bar">
        <div id="status-message">Ready</div>
      </div>
    </footer>
  </div>

  <script src="popup.js"></script>
</body>
</html>